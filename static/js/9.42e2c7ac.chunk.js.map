{"version":3,"sources":["components/MovieCard/MovieCard.module.scss","components/MovieCard/MovieCard.js","pages/MovieDetailsPage.js","utils/ApiServices.js","images/default.jpg","icons/sprite.svg"],"names":["module","exports","MovieCard","movie","url","useRouteMatch","location","useLocation","className","styles","goBackBtn","to","state","from","goBackBtn__icon","width","height","href","sprite","card","imgWrapper","src","poster_path","defaultImage","alt","title","contentWrapper","release_date","slice","description","descriptionSpan","overview","genresTitle","genresList","genres","map","name","genresList__item","voteWrapper","vote","voteSpan","vote_average","icon","navLink","activeClassName","activeNavLink","pathname","Cast","lazy","Reviews","MovieDetailsPage","path","movieId","useParams","useState","setMovie","useEffect","api","fetchMovieById","then","catch","message","console","log","fallback","LoaderSpinner","API_KEY","BASE_URL","fetchData","a","axios","get","data","Error","currentPage","allPages","increasePage","this","resetPage","setAllPages","page","fetchMovieByQuery","query","fetchTrendingMovies","id","fetchMovieCast","fetchMovieReviews"],"mappings":"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","file":"static/js/9.42e2c7ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"goBackBtn\":\"MovieCard_goBackBtn__1b9GN\",\"goBackBtn__icon\":\"MovieCard_goBackBtn__icon__3ICvH\",\"card\":\"MovieCard_card__VW1lY\",\"imgWrapper\":\"MovieCard_imgWrapper__2MaxG\",\"contentWrapper\":\"MovieCard_contentWrapper__ZI5ZS\",\"marBot\":\"MovieCard_marBot__1-0rR\",\"genresList\":\"MovieCard_genresList__1Fbn4 MovieCard_marBot__1-0rR\",\"genresTitle\":\"MovieCard_genresTitle__35TKy\",\"genresList__item\":\"MovieCard_genresList__item__3h8jk\",\"title\":\"MovieCard_title__t-bKl MovieCard_marBot__1-0rR\",\"description\":\"MovieCard_description__3LV83 MovieCard_marBot__1-0rR\",\"descriptionSpan\":\"MovieCard_descriptionSpan__3J5dC\",\"voteWrapper\":\"MovieCard_voteWrapper__XZaRW MovieCard_marBot__1-0rR\",\"vote\":\"MovieCard_vote__2HtPG\",\"voteSpan\":\"MovieCard_voteSpan__1_jLm\",\"icon\":\"MovieCard_icon__38Dwm\",\"navLink\":\"MovieCard_navLink__P783-\",\"activeNavLink\":\"MovieCard_activeNavLink__204YI MovieCard_navLink__P783-\"};","import { Link, NavLink, useLocation, useRouteMatch } from 'react-router-dom';\n\nimport sprite from '../../icons/sprite.svg';\nimport defaultImage from '../../images/default.jpg';\n\nimport styles from './MovieCard.module.scss';\n\nexport default function MovieCard({ movie }) {\n  const { url } = useRouteMatch();\n  const location = useLocation();\n\n  return (\n    <>\n      <Link className={styles.goBackBtn} to={location?.state?.from ?? '/'}>\n        <svg className={styles.goBackBtn__icon} width=\"14px\" height=\"14px\">\n          <use href={sprite + '#arrow-left'} />\n        </svg>\n        Go back\n      </Link>\n      <div className={styles.card}>\n        <div className={styles.imgWrapper}>\n          <img\n            src={\n              movie.poster_path\n                ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n                : defaultImage\n            }\n            alt={movie.title}\n          />\n        </div>\n        <div className={styles.contentWrapper}>\n          <h3 className={styles.title}>{`${\n            movie.title\n          } (${movie.release_date.slice(0, 4)})`}</h3>\n          <p className={styles.description}>\n            <span className={styles.descriptionSpan}>Description:</span>\n            {movie.overview}\n          </p>\n          <p className={styles.genresTitle}>Genres:</p>\n          <ul className={styles.genresList}>\n            {movie.genres.map(({ name }) => (\n              <li key={name} className={styles.genresList__item}>\n                <p>{name}</p>\n              </li>\n            ))}\n          </ul>\n          <div className={styles.voteWrapper}>\n            <p className={styles.vote}>\n              <span className={styles.voteSpan}>Vote averege: </span>\n              {movie.vote_average}\n            </p>{' '}\n            <svg className={styles.icon} height=\"20\" width=\"20\">\n              <use href={sprite + '#star'} />\n            </svg>\n          </div>\n          <NavLink\n            className={styles.navLink}\n            activeClassName={styles.activeNavLink}\n            to={{\n              pathname: `${url}/cast`,\n              state: { from: location?.state?.from },\n            }}\n          >\n            Cast\n          </NavLink>\n          <NavLink\n            className={styles.navLink}\n            activeClassName={styles.activeNavLink}\n            to={{\n              pathname: `${url}/reviews`,\n              state: { from: location?.state?.from },\n            }}\n          >\n            Reviews\n          </NavLink>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState, lazy, Suspense } from 'react';\nimport { Route, useParams, useRouteMatch } from 'react-router-dom';\n\nimport LoaderSpinner from '../components/LoaderSpinner/LoaderSpinner';\nimport MovieCard from '../components/MovieCard/MovieCard';\n\nimport api from '../utils/ApiServices';\n\nconst Cast = lazy(() =>\n  import('../components/Cast/' /* webpackChunkName: \"cast-subpage\" */),\n);\nconst Reviews = lazy(() =>\n  import('../components/Reviews/' /* webpackChunkName: \"reviews-subpage\" */),\n);\n\nexport default function MovieDetailsPage() {\n  const { path } = useRouteMatch();\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    api\n      .fetchMovieById(movieId)\n      .then(setMovie)\n      .catch(({ message }) => console.log(message));\n  }, [movieId]);\n\n  return (\n    <>\n      {movie && <MovieCard movie={movie} />}\n      <Suspense fallback={<LoaderSpinner />}>\n        <Route path={`${path}/cast`}>{movie && <Cast />}</Route>\n        <Route path={`${path}/reviews`}>{movie && <Reviews />}</Route>\n      </Suspense>\n    </>\n  );\n}\n","import axios from 'axios';\n\nconst API_KEY = '1d7fb67928c0be1237a2da4e51e9ed0f';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nasync function fetchData(url) {\n  try {\n    const { data } = await axios.get(url);\n    return data;\n  } catch (error) {\n    throw new Error(error);\n  }\n}\n\nconst api = {\n  currentPage: 1,\n  allPages: 1,\n\n  increasePage() {\n    this.currentPage += 1;\n  },\n\n  resetPage() {\n    this.currentPage = 1;\n  },\n\n  setAllPages(page) {\n    this.allPages = page;\n  },\n\n  fetchMovieByQuery(query) {\n    return fetchData(\n      `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}&page=${this.currentPage}`,\n    );\n  },\n\n  fetchTrendingMovies() {\n    return fetchData(\n      `${BASE_URL}/trending/movie/week?api_key=${API_KEY}&page=${this.currentPage}`,\n    );\n  },\n\n  fetchMovieById(id) {\n    return fetchData(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n  },\n\n  fetchMovieCast(id) {\n    return fetchData(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n  },\n\n  fetchMovieReviews(id) {\n    return fetchData(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n  },\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/default.94283dad.jpg\";","export default __webpack_public_path__ + \"static/media/sprite.3673916f.svg\";"],"sourceRoot":""}